第6章 データの可視化

データの効果的な可視化は少なくとも次の3つの理由からデータサイエンスの重要な要素となっている。
・探索的データ分析
・誤りの検出
・コミュニケーション

探索的データ分析
昔のサイエンス手法＝仮説駆動型
今のサイエンス手法＝データ駆動型
探索的データ分析は与えられたデータセットからパターンやトレンドを探す。

新しいデータセットの取り扱い
・基本的な問いに答える
→このデータセットはだれがいつなぜ作ったのか？
→このデータセットはどのくらいの大きさか？
→フィールドにはどのような意味があるか？
・馴染みのあるレコードや解釈できるレコードを探す
・基本統計量
・ペアワイズ相関
・クラス別の分類
・分布のプロット

基本統計量とアンスコムの例
可視化技法を使わずにデータを理解できる人の能力には限界がある。
→これを示すのがアンスコムの例と呼ばれるもの

可視化ツール
可視化の作業は以下3つに分類できる。それぞれによって何を使えばいいかは決まる
・探索的データ分析：ExcelやJupyter Notebookなど
・出版やプレゼンテーションに耐えられる品質のグラフ：MatplotlibやGnuplot
・外部アプリケーションのための対話的な可視化：PythonやTableau

可視化の審美観の育成
以下はデザインの審美観の原則
・データインク比の最大比
・嘘係数の最小化
・チャートジャンクの最小化
・適切なスケーリングとラベル付け
・色の効果的な利用
・反復の力の利用

データインク比の最大比
本書はデータインク比を次のように定義する
データインク比＝データに使われるインク量/グラフに使われる総インク数
データインク比を小さくすればデータは見やすくなる

嘘係数の最小化
噓係数の定義は以下
嘘係数＝グラフが与える印象の大きさ/データが与える印象の大きさ
嘘のないグラフを作るには誤解を導くような技法を避ける
次のような行為は避けるべき
・分散を示さずに平均だけを示す
・実際のデータを示さずにデータを補間した結果を示す
・スケーリングのゆがみ
・メモリのない軸
・原点が隠されているグラフ

チャートジャンクの最小比
余分な要素を取り除くことでデータをもっと目立たせる
以下の手順で単純化する
・データをジェイルブレイクさせる
・シェーディングを消す
・枠を外して考える
・意味のある形でインクを減らす

適切なスケーリングとラベリング
スケーリングとラベリングの不備はグラフによって意図的、偶発的に誤解が生まれる最も大きな要因

色とシェーディングの効果的な使い方
クラスが自然に連想されるような色を選ぶと良い。

グラフの種類
表形式のデータの特徴
・精度の明示
・スケールの表現
・多変量の可視化
・異種データ
・緊密性
表形式のベストプラクティスは以下
・比較しやすいように行を並べる
・重要な属性を強調したり対の関係を示したりするように列を並べる
・数値は精度を揃えて右揃えにする
・重要なエントリーは太字や色を変えて強調する
・列の説明が長くなりすぎないようにする

折れ線グラフのベストプラクティスは以下
・適合させた線だけでなくデータポイントも示す
・可能なら変数の範囲全体を示す
・平均値をプロットするときは不確かな部分があることを認める
・カテゴリデータの点を結んではならない
・色や線種を使って線もしくはクラスを区別する
散布図のベストプラクティスは以下
・適切なサイズの点を散布する
・整数の点は散布図に描く前に色を付けるかノイズを与える
・多変量データは次元削除して2次元にするか2変量プロットで表現する
・3次元散布図が役に立つのは示すべき構造が本当にあるときだけである
・バブルチャートでは色とサイズを使って表現できる次元が増える

棒グラフと円グラフのベストプラクティスは以下
・円グラフの中の扇形に直接ラベルを付ける
・正確な比較には棒グラフを使う
・絶対的な大きさを示したいのか割合のちがいを示すかによって適切にスケールする

ヒストグラムのベストプラクティスは以下
・ヒストグラムを確率密度グラフに変換する
・累積分布グラフを使う

データマップ
色やシェーディングを使って地図内に描かれた区域の性質を強調するもの
データマップのベストプラクティス（元素周期表）
・マップにストーリーがある
・複数の領域が接触しているとその隣接領域には何らかの意味がある
・すべての四角が大きく表示されている
・現実に必ずしも忠実でなくてよい

偉大なビジュアライゼーション
・マレーのダイヤグラム
・スノーのコレラ感染図
・ニューヨークの年間の天気

グラフの解釈
初歩的な問題があるグラフは以下のようなもの
・分布がよくわからないグラフ
・分散の過剰解釈

インタラクティブな可視化
対話的な可視化をするのが現在のトレンドであり効果的な場合もある。
